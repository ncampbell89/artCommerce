{"ast":null,"code":"import Axios from '../../Axios/Axios';\nimport setAuthJwt from '../../Axios/setAuthJWT';\nimport jwt_decode from 'jwt-decode';\nexport var handleSignUpAPI = function handleSignUpAPI(data) {\n  return new Promise(function (resolve, reject) {\n    Axios.post('/users/createuser', data) // data is this.state in signup.js\n    .then(function (result) {\n      resolve(result);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n};\nexport var handleSignInAPI = function handleSignInAPI(data) {\n  return new Promise(function (resolve, reject) {\n    Axios.post('/users/loginuser', data).then(function (result) {\n      // console.log(result.data);\n      // we grab the token from the array 'result.data'\n      var token = result.data.token;\n      setAuthJwt(token); // to view the key in the inspector. It's stored in the local storage\n\n      localStorage.setItem('jwtToken', token); // decoded shows more explicity about the json web token\n      // {id: \"5c5c5cac1ed139024dd47fa9\", email: \"test\", iat: 1549558760, exp: 1549562360}\n\n      var decoded = jwt_decode(token);\n      resolve(decoded);\n    }).catch(function (error) {\n      reject(error);\n    });\n  });\n};","map":{"version":3,"sources":["/Users/Nicki/Desktop/artsy/frontend/src/Components/Containers/API/userAPI.js"],"names":["Axios","setAuthJwt","jwt_decode","handleSignUpAPI","data","Promise","resolve","reject","post","then","result","catch","error","handleSignInAPI","token","localStorage","setItem","decoded"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAU;AACrC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCP,IAAAA,KAAK,CAACQ,IAAN,CAAW,mBAAX,EAAgCJ,IAAhC,EAAsC;AAAtC,KACMK,IADN,CACW,UAAAC,MAAM,EAAI;AACZJ,MAAAA,OAAO,CAACI,MAAD,CAAP;AACH,KAHN,EAIMC,KAJN,CAIY,UAAAC,KAAK,EAAI;AACZL,MAAAA,MAAM,CAACK,KAAD,CAAN;AACH,KANN;AAOH,GARM,CAAP;AASH,CAVM;AAYP,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACT,IAAD,EAAU;AACrC,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCP,IAAAA,KAAK,CAACQ,IAAN,CAAW,kBAAX,EAA+BJ,IAA/B,EACCK,IADD,CACM,UAAAC,MAAM,EAAI;AACZ;AACA;AAFY,UAGJI,KAHI,GAGMJ,MAAM,CAACN,IAHb,CAGJU,KAHI;AAIZb,MAAAA,UAAU,CAACa,KAAD,CAAV,CAJY,CAMZ;;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,KAAjC,EAPY,CASZ;AACA;;AACA,UAAMG,OAAO,GAAGf,UAAU,CAACY,KAAD,CAA1B;AACAR,MAAAA,OAAO,CAACW,OAAD,CAAP;AAEH,KAfD,EAgBCN,KAhBD,CAgBO,UAAAC,KAAK,EAAI;AACZL,MAAAA,MAAM,CAACK,KAAD,CAAN;AACH,KAlBD;AAmBH,GApBM,CAAP;AAqBH,CAtBM","sourcesContent":["import Axios from '../../Axios/Axios';\nimport setAuthJwt from '../../Axios/setAuthJWT';\nimport jwt_decode from 'jwt-decode';\n\nexport const handleSignUpAPI = (data) => {\n    return new Promise((resolve, reject) => {\n        Axios.post('/users/createuser', data) // data is this.state in signup.js\n             .then(result => {\n                 resolve(result)\n             })\n             .catch(error => {\n                 reject(error)\n             })\n    })\n}\n\nexport const handleSignInAPI = (data) => {\n    return new Promise((resolve, reject) => {\n        Axios.post('/users/loginuser', data)\n        .then(result => {\n            // console.log(result.data);\n            // we grab the token from the array 'result.data'\n            const { token } = result.data;\n            setAuthJwt(token);\n\n            // to view the key in the inspector. It's stored in the local storage\n            localStorage.setItem('jwtToken', token);\n\n            // decoded shows more explicity about the json web token\n            // {id: \"5c5c5cac1ed139024dd47fa9\", email: \"test\", iat: 1549558760, exp: 1549562360}\n            const decoded = jwt_decode(token);\n            resolve(decoded);\n\n        })\n        .catch(error => {\n            reject(error)\n        })\n    })\n}"]},"metadata":{},"sourceType":"module"}